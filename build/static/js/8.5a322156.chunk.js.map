{"version":3,"sources":["views/login/Login.js"],"names":["Login","loginmethod","e","preventDefault","console","log","state","username","password","user","axios","then","response","data","code","cookies","Cookies","token","set","path","get","window","location","replace","alert","catch","error","handleInputChange","target","name","value","setState","className","md","onSubmit","this","type","onChange","placeholder","autoComplete","xs","color","React","Component"],"mappings":"mNAmBMA,E,4MAEFC,YAAc,SAACC,GACXA,EAAEC,iBAEFC,QAAQC,IAAI,EAAKC,MAAMC,UACvBH,QAAQC,IAAI,EAAKC,MAAME,UAEvB,IAAIC,EAAO,CACPF,SAAU,EAAKD,MAAMC,SACrBC,SAAU,EAAKF,MAAME,UAGzBE,OAAW,wDAAyDD,GAC/DE,MAAK,SAAUC,GAGZ,GAFAR,QAAQC,IAAIO,GAEe,MAAvBA,EAASC,KAAKC,KAAc,CAC5B,IAAMC,EAAU,IAAIC,IAEpBZ,QAAQC,IAAIO,EAASC,KAAKI,OAC1BF,EAAQG,IAAI,QAAS,UAAYN,EAASC,KAAKI,MAAO,CAACE,KAAM,MAC7Df,QAAQC,IAAIU,EAAQK,IAAI,UAGxBC,OAAOC,SAASC,QAAQ,eAGxBC,MAAM,4BAEXC,OAAM,SAAUC,GACnBF,MAAM,yBAENpB,QAAQC,IAAIqB,O,EAOpBC,kBAAoB,SAACzB,GAAO,IAAD,EAEDA,EAAE0B,OAAjBC,EAFgB,EAEhBA,KAAMC,EAFU,EAEVA,MACb,EAAKC,SAAL,eACKF,EAAOC,K,uDAOZ,OACI,yBAAKE,UAAU,sDACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMA,UAAU,0BACZ,kBAAC,IAAD,CAAMC,GAAG,KACL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOD,UAAU,OACb,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOE,SAAUC,KAAKlC,aAClB,qCACA,uBAAG+B,UAAU,cAAb,2BACA,kBAAC,IAAD,CAAaA,UAAU,QACnB,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOH,KAAK,eAGpB,kBAAC,IAAD,CAAQO,KAAK,OACLP,KAAK,WACLQ,SAAUF,KAAKR,kBACfW,YAAY,WACZC,aAAa,cAEzB,kBAAC,IAAD,CAAaP,UAAU,QACnB,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOH,KAAK,sBAGpB,kBAAC,IAAD,CAAQO,KAAK,WACLP,KAAK,WACLQ,SAAUF,KAAKR,kBACfW,YAAY,WACZC,aAAa,sBAEzB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMC,GAAG,KACL,kBAAC,IAAD,CAASJ,KAAK,SAASK,MAAM,UACpBT,UAAU,QADnB,uB,GAxFhCU,IAAMC,WAyGX3C","file":"static/js/8.5a322156.chunk.js","sourcesContent":["import React from 'react'\nimport Cookies from 'universal-cookie';\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardGroup,\n    CCol,\n    CContainer,\n    CForm,\n    CInput,\n    CInputGroup,\n    CInputGroupPrepend,\n    CInputGroupText,\n    CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport * as axios from \"axios\";\n\nclass Login extends React.Component {\n\n    loginmethod = (e) => {\n        e.preventDefault()\n\n        console.log(this.state.username)\n        console.log(this.state.password)\n\n        let user = {\n            username: this.state.username,\n            password: this.state.password\n        }\n\n        axios.post('https://frozen-refuge-74833.herokuapp.com/users/login', user)\n            .then(function (response) {\n                console.log(response);\n\n                if (response.data.code === 200) {\n                    const cookies = new Cookies();\n\n                    console.log(response.data.token)\n                    cookies.set('token', 'Bearer ' + response.data.token, {path: '/',});\n                    console.log(cookies.get('token'));\n\n\n                    window.location.replace('/home/')\n\n                } else {\n                    alert(\"Authentication Failed\");\n                }\n            }).catch(function (error) {\n            alert(\"Authentication Failed\");\n\n            console.log(error);\n        });\n\n\n    }\n\n\n    handleInputChange = (e) => {\n\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n\n    }\n\n\n    render() {\n        return (\n            <div className=\"c-app c-default-layout flex-row align-items-center\">\n                <CContainer>\n                    <CRow className=\"justify-content-center\">\n                        <CCol md=\"8\">\n                            <CCardGroup>\n                                <CCard className=\"p-4\">\n                                    <CCardBody>\n                                        <CForm onSubmit={this.loginmethod}>\n                                            <h1>Login</h1>\n                                            <p className=\"text-muted\">Sign In to your account</p>\n                                            <CInputGroup className=\"mb-3\">\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-user\"/>\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput type=\"text\"\n                                                        name=\"username\"\n                                                        onChange={this.handleInputChange}\n                                                        placeholder=\"Username\"\n                                                        autoComplete=\"username\"/>\n                                            </CInputGroup>\n                                            <CInputGroup className=\"mb-4\">\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-lock-locked\"/>\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput type=\"password\"\n                                                        name=\"password\"\n                                                        onChange={this.handleInputChange}\n                                                        placeholder=\"Password\"\n                                                        autoComplete=\"current-password\"/>\n                                            </CInputGroup>\n                                            <CRow>\n                                                <CCol xs=\"6\">\n                                                    <CButton type=\"submit\" color=\"primary\"\n                                                             className=\"px-4\">Login</CButton>\n                                                </CCol>\n                                            </CRow>\n                                        </CForm>\n                                    </CCardBody>\n                                </CCard>\n\n                            </CCardGroup>\n                        </CCol>\n                    </CRow>\n                </CContainer>\n            </div>\n        )\n    }\n}\n\nexport default Login\n"],"sourceRoot":""}