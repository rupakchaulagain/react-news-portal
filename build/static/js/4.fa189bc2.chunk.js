(this["webpackJsonpnews-portal"]=this["webpackJsonpnews-portal"]||[]).push([[4],{663:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(17);t.a=function(e){return n.a.createElement(o.a,{color:"success",closeButton:!0},e.message)}},664:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(17);t.a=function(e){return n.a.createElement(o.a,{color:"danger",closeButton:!0},e.message)}},670:function(e,t,a){"use strict";a.r(t);var l=a(64),n=a(65),o=a(68),r=a(66),s=a(0),c=a.n(s),i=a(17),u=a(174),m=a(95),p=a(56),h=a(67),d=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(u.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault();var t=new h.a,a={polltitle:n.state.polltitle};m.post("https://frozen-refuge-74833.herokuapp.com/polls/",a,{headers:{Authorization:t.get("token")}}).then((function(e){m.get("https://frozen-refuge-74833.herokuapp.com/polls/",{headers:{Authorization:t.get("token")}}).then((function(e){console.log(e.data);var t=e.data;n.props.updatePoll(t)})),n.props.manageTabController(),n.props.showAlert()})).catch((function(e){e.response&&console.log(e.response),this.showError(e.response)}))},console.log(e),n.state={polltitle:""},n}return Object(n.a)(a,[{key:"render",value:function(){return c.a.createElement(i.g,null,c.a.createElement(i.h,null,c.a.createElement(i.u,{onSubmit:this.handleFormSubmit},c.a.createElement(i.v,null,c.a.createElement(i.E,{htmlFor:"polltitle"},"Post tittle"),c.a.createElement(i.z,{name:"polltitle",id:"polltitle",value:this.state.polltitle,onChange:this.handleInputChange,placeholder:"Enter Post Tittle",required:"required"})),c.a.createElement(i.v,null,c.a.createElement(i.f,{type:"submit",size:"sm",color:"primary"},c.a.createElement(p.a,{name:"cil-scrubber"})," Submit")))))}}]),a}(c.a.Component),g=a(665),E=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleDeleteBtn=function(t){var a=new h.a;m.delete("https://frozen-refuge-74833.herokuapp.com/polls/".concat(t),{headers:{Authorization:a.get("token")}}).then((function(t){m.get("https://frozen-refuge-74833.herokuapp.com/polls/",{headers:{Authorization:a.get("token")}}).then((function(t){console.log(t.data);var a=t.data;e.props.updatePoll(a)})),e.props.toggle(),e.props.showDeleteAlert()}))},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.I,{show:this.props.modal,onClose:this.props.toggle},c.a.createElement(i.L,{closeButton:!0},"Delete Polls"),c.a.createElement(i.J,null,"Are you sure want to delete?"),c.a.createElement(i.K,null,c.a.createElement(i.f,{color:"secondary",onClick:this.props.toggle},"Cancel")," ",c.a.createElement(i.f,{onClick:function(){return e.handleDeleteBtn(e.props.selectedItem)},color:"danger"},"Delete"))))}}]),a}(c.a.Component),f=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).modalCancelBtn=function(){n.props.selectedItem=null,n.props.detailModalToggle()},n.state={poll:{}},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new h.a;m.get("https://frozen-refuge-74833.herokuapp.com/polls/".concat(this.props.selectedItem),{headers:{Authorization:t.get("token")}}).then((function(t){e.setState({poll:t.data})}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.I,{size:"xl",show:this.props.detailModal,onClose:this.props.detailModalToggle},c.a.createElement(i.L,{closeButton:!0},"News Detail"),c.a.createElement(i.J,null,c.a.createElement(i.Q,null,c.a.createElement(i.k,{xs:"12",sm:"6"},c.a.createElement(i.g,null,c.a.createElement(i.h,null,c.a.createElement(i.v,null,c.a.createElement(i.E,{htmlFor:"posttitle"},"Post Tittle"),c.a.createElement(i.z,{name:"posttitle",value:this.state.poll.polltitle,disabled:"disabled"})))))))))}}]),a}(c.a.Component),b=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(u.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault();var t=new h.a,a={polltitle:n.state.polltitle};m.put("https://frozen-refuge-74833.herokuapp.com/polls/".concat(n.state._id),a,{headers:{Authorization:t.get("token")}}).then((function(e){m.get("https://frozen-refuge-74833.herokuapp.com/polls/",{headers:{Authorization:t.get("token")}}).then((function(e){console.log(e.data);var t=e.data;n.props.updatePoll(t)})),n.props.editModalToggle()})).catch((function(e){e.response&&console.log(e.response),this.showError(e.response)}))},n.state={news:{},_id:n.props.editItem,polltitle:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new h.a;m.get("https://frozen-refuge-74833.herokuapp.com/polls/".concat(this.props.editItem),{headers:{Authorization:t.get("token")}}).then((function(t){var a=t.data;e.setState({polltitle:a.polltitle})}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.I,{size:"xl",show:this.props.editModal,onClose:this.props.editModalToggle},c.a.createElement(i.L,{closeButton:!0},"Polls Detail"),c.a.createElement(i.J,null,c.a.createElement(i.u,{onSubmit:this.handleFormSubmit},c.a.createElement(i.v,null,c.a.createElement(i.E,{htmlFor:"posttitle"},"Poll tittle"),c.a.createElement(i.z,{name:"polltitle",id:"polltitle",value:this.state.polltitle,onChange:this.handleInputChange,required:"required"})),c.a.createElement(i.v,null,c.a.createElement(i.f,{type:"submit",size:"sm",color:"primary"},c.a.createElement(p.a,{name:"cil-scrubber"})," Submit"))))))}}]),a}(c.a.Component),v=["notificationdate","polltitle","createdAt","updatedAt","actions"],k=function(e){var t=e.pollList,a=Object(s.useState)(!1),l=Object(g.a)(a,2),n=l[0],o=l[1],r=Object(s.useState)(!1),u=Object(g.a)(r,2),m=u[0],p=u[1],h=Object(s.useState)(!1),d=Object(g.a)(h,2),k=d[0],w=d[1],A=Object(s.useState)(!1),O=Object(g.a)(A,2),j=O[0],S=O[1],C=Object(s.useState)(!1),z=Object(g.a)(C,2),P=z[0],T=z[1],D=function(e){S(e),p(!m)},M=function(e){T(e),w(!k)},y=function(e){S(e),o(!n)};return c.a.createElement(c.a.Fragment,null,j?c.a.createElement(f,{selectedItem:j,detailModal:m,detailModalToggle:D}):null,P?c.a.createElement(b,{updatePoll:e.updatePoll,editItem:P,editModal:k,editModalToggle:M}):null,c.a.createElement(E,{showDeleteAlert:e.showDeleteAlert,updatePoll:e.updatePoll,selectedItem:j,modal:n,toggle:y}),c.a.createElement(i.n,{items:t,fields:v,bordered:!0,itemsPerPage:10,pagination:!0,scopedSlots:{actions:function(e){return c.a.createElement("td",null,c.a.createElement(i.o,{className:"m-1 btn-group"},c.a.createElement(i.r,{color:"primary"},"Actions"),c.a.createElement(i.q,null,c.a.createElement(i.p,{onClick:function(){return D(e._id)}},"View"),c.a.createElement(i.p,{onClick:function(){return M(e._id)}},"Edit"),c.a.createElement(i.p,{key:e._id,onClick:function(){return y(e._id)}},"Delete"))))}}}))},w=a(663),A=a(664),O=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updatePoll=function(e){n.setState({pollList:e})},n.showAlert=function(){n.setState({showSuccessAlert:!0})},n.showDeleteAlert=function(){n.setState({showSuccessAlert:!1,showDeleteAlert:!0})},n.showErrorAlert=function(e){n.setState({errorMessage:{showErrorAlert:!0,message:e}})},n.addTabController=function(){n.setState({modal:{addNavLink:!0,addTab:!0,manageNavLink:!1,manageTab:!1},showSuccessAlert:!1,showDeleteAlert:!1})},n.manageTabController=function(){n.setState({modal:{addNavLink:!1,addTab:!1,manageNavLink:!0,manageTab:!0}})},n.state={pollList:[],deleteModal:!1,showSuccessAlert:!1,showDeleteAlert:!1,errorMessage:{showErrorAlert:!1,message:""},modal:{addNavLink:!0,manageNavLink:!1,addTab:!0,manageTab:!1}},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new h.a;m.get("https://frozen-refuge-74833.herokuapp.com/polls/",{headers:{Authorization:t.get("token")}}).then((function(t){console.log(t.data);var a=t.data;e.setState({pollList:a}),console.log("o/p"+e.state.pollList)}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,!0===this.state.errorMessage.showErrorAlert?c.a.createElement(A.a,{message:this.state.errorMessage.showErrorAlert.errorMessage}):null,!0===this.state.showSuccessAlert?c.a.createElement(w.a,{message:"Polls is added Successfully..."}):null,!0===this.state.showDeleteAlert?c.a.createElement(A.a,{message:"Polls is deleted..."}):null,c.a.createElement(i.Q,null,c.a.createElement(i.k,{xs:"12",md:"12",className:"mb-4"},c.a.createElement(i.g,null,c.a.createElement(i.h,null,c.a.createElement(i.cb,null,c.a.createElement(i.N,{variant:"tabs"},c.a.createElement(i.O,{onClick:this.addTabController},c.a.createElement(i.P,{active:this.state.modal.addNavLink},"Add Polls")),c.a.createElement(i.O,{onClick:this.manageTabController},c.a.createElement(i.P,{active:this.state.modal.manageNavLink},"Manage"))),c.a.createElement(i.ab,null,c.a.createElement(i.bb,{active:this.state.modal.addTab},c.a.createElement(d,{showErrorAlert:this.showErrorAlert,showAlert:this.showAlert,manageTabController:this.manageTabController,updatePoll:this.updatePoll})),c.a.createElement(i.bb,{active:this.state.modal.manageTab},c.a.createElement(k,{showDeleteAlert:this.showDeleteAlert,updatePoll:this.updatePoll,pollList:this.state.pollList})))))))))}}]),a}(c.a.Component);t.default=O}}]);
//# sourceMappingURL=4.fa189bc2.chunk.js.map