{"ast":null,"code":"import _defineProperty from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Cookies from'universal-cookie';import{CButton,CCard,CCardBody,CCardGroup,CCol,CContainer,CForm,CInput,CInputGroup,CInputGroupPrepend,CInputGroupText,CRow}from'@coreui/react';import CIcon from'@coreui/icons-react';import*as axios from\"axios\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.loginmethod=function(e){e.preventDefault();console.log(_this.state.username);console.log(_this.state.password);var user={username:_this.state.username,password:_this.state.password};axios.post('https://frozen-refuge-74833.herokuapp.com/users/login',user).then(function(response){console.log(response);if(response.data.code===200){var cookies=new Cookies();console.log(response.data.token);cookies.set('token','Bearer '+response.data.token,{path:'/'});console.log(cookies.get('token'));window.location.replace('/home/');}else{alert(\"Authentication Failed\");}}).catch(function(error){alert(\"Authentication Failed\");console.log(error);});};_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"c-app c-default-layout flex-row align-items-center\"},/*#__PURE__*/React.createElement(CContainer,null,/*#__PURE__*/React.createElement(CRow,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(CCol,{md:\"8\"},/*#__PURE__*/React.createElement(CCardGroup,null,/*#__PURE__*/React.createElement(CCard,{className:\"p-4\"},/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(CForm,{onSubmit:this.loginmethod},/*#__PURE__*/React.createElement(\"h1\",null,\"Login\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Sign In to your account\"),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(CInputGroupPrepend,null,/*#__PURE__*/React.createElement(CInputGroupText,null,/*#__PURE__*/React.createElement(CIcon,{name:\"cil-user\"}))),/*#__PURE__*/React.createElement(CInput,{type:\"text\",name:\"username\",onChange:this.handleInputChange,placeholder:\"Username\",autoComplete:\"username\"})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CInputGroupPrepend,null,/*#__PURE__*/React.createElement(CInputGroupText,null,/*#__PURE__*/React.createElement(CIcon,{name:\"cil-lock-locked\"}))),/*#__PURE__*/React.createElement(CInput,{type:\"password\",name:\"password\",onChange:this.handleInputChange,placeholder:\"Password\",autoComplete:\"current-password\"})),/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,{xs:\"6\"},/*#__PURE__*/React.createElement(CButton,{type:\"submit\",color:\"primary\",className:\"px-4\"},\"Login\")))))))))));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/login/Login.js"],"names":["React","Cookies","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CIcon","axios","Login","loginmethod","e","preventDefault","console","log","state","username","password","user","post","then","response","data","code","cookies","token","set","path","get","window","location","replace","alert","catch","error","handleInputChange","target","name","value","setState","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Cookies from 'universal-cookie';\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardGroup,\n    CCol,\n    CContainer,\n    CForm,\n    CInput,\n    CInputGroup,\n    CInputGroupPrepend,\n    CInputGroupText,\n    CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport * as axios from \"axios\";\n\nclass Login extends React.Component {\n\n    loginmethod = (e) => {\n        e.preventDefault()\n\n        console.log(this.state.username)\n        console.log(this.state.password)\n\n        let user = {\n            username: this.state.username,\n            password: this.state.password\n        }\n\n        axios.post('https://frozen-refuge-74833.herokuapp.com/users/login', user)\n            .then(function (response) {\n                console.log(response);\n\n                if (response.data.code === 200) {\n                    const cookies = new Cookies();\n\n                    console.log(response.data.token)\n                    cookies.set('token', 'Bearer ' + response.data.token, {path: '/',});\n                    console.log(cookies.get('token'));\n\n\n                    window.location.replace('/home/')\n\n                } else {\n                    alert(\"Authentication Failed\");\n                }\n            }).catch(function (error) {\n            alert(\"Authentication Failed\");\n\n            console.log(error);\n        });\n\n\n    }\n\n\n    handleInputChange = (e) => {\n\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n\n    }\n\n\n    render() {\n        return (\n            <div className=\"c-app c-default-layout flex-row align-items-center\">\n                <CContainer>\n                    <CRow className=\"justify-content-center\">\n                        <CCol md=\"8\">\n                            <CCardGroup>\n                                <CCard className=\"p-4\">\n                                    <CCardBody>\n                                        <CForm onSubmit={this.loginmethod}>\n                                            <h1>Login</h1>\n                                            <p className=\"text-muted\">Sign In to your account</p>\n                                            <CInputGroup className=\"mb-3\">\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-user\"/>\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput type=\"text\"\n                                                        name=\"username\"\n                                                        onChange={this.handleInputChange}\n                                                        placeholder=\"Username\"\n                                                        autoComplete=\"username\"/>\n                                            </CInputGroup>\n                                            <CInputGroup className=\"mb-4\">\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-lock-locked\"/>\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput type=\"password\"\n                                                        name=\"password\"\n                                                        onChange={this.handleInputChange}\n                                                        placeholder=\"Password\"\n                                                        autoComplete=\"current-password\"/>\n                                            </CInputGroup>\n                                            <CRow>\n                                                <CCol xs=\"6\">\n                                                    <CButton type=\"submit\" color=\"primary\"\n                                                             className=\"px-4\">Login</CButton>\n                                                </CCol>\n                                            </CRow>\n                                        </CForm>\n                                    </CCardBody>\n                                </CCard>\n\n                            </CCardGroup>\n                        </CCol>\n                    </CRow>\n                </CContainer>\n            </div>\n        )\n    }\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}