{"ast":null,"code":"import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{CButton,CModal,CModalBody,CModalFooter,CModalHeader}from\"@coreui/react\";import*as axios from\"axios\";import Cookies from\"universal-cookie\";var DeleteModal=/*#__PURE__*/function(_React$Component){_inherits(DeleteModal,_React$Component);var _super=_createSuper(DeleteModal);function DeleteModal(){var _this;_classCallCheck(this,DeleteModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleDeleteBtn=function(id){var cookies=new Cookies();axios.delete(\"https://frozen-refuge-74833.herokuapp.com/polls/\".concat(id),{headers:{Authorization:cookies.get('token')}}).then(function(response){axios.get('https://frozen-refuge-74833.herokuapp.com/polls/',{headers:{Authorization:cookies.get('token')}}).then(function(response){console.log(response.data);var data=response.data;_this.props.updatePoll(data);});_this.props.toggle();_this.props.showDeleteAlert();});};return _this;}_createClass(DeleteModal,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CModal,{show:this.props.modal,onClose:this.props.toggle},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},\"Delete Polls\"),/*#__PURE__*/React.createElement(CModalBody,null,\"Are you sure want to delete?\"),/*#__PURE__*/React.createElement(CModalFooter,null,/*#__PURE__*/React.createElement(CButton,{color:\"secondary\",onClick:this.props.toggle},\"Cancel\"),' ',/*#__PURE__*/React.createElement(CButton,{onClick:function onClick(){return _this2.handleDeleteBtn(_this2.props.selectedItem);},color:\"danger\"},\"Delete\"))));}}]);return DeleteModal;}(React.Component);export default DeleteModal;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/polls/modals/DeleteModal.js"],"names":["React","CButton","CModal","CModalBody","CModalFooter","CModalHeader","axios","Cookies","DeleteModal","handleDeleteBtn","id","cookies","delete","headers","Authorization","get","then","response","console","log","data","props","updatePoll","toggle","showDeleteAlert","modal","selectedItem","Component"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,CAAiBC,MAAjB,CAAyBC,UAAzB,CAAqCC,YAArC,CAAmDC,YAAnD,KAAsE,eAAtE,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,C,GAEMC,CAAAA,W,2VAEFC,e,CAAkB,SAACC,EAAD,CAAQ,CAEtB,GAAMC,CAAAA,OAAO,CAAG,GAAIJ,CAAAA,OAAJ,EAAhB,CAEAD,KAAK,CAACM,MAAN,2DAAgEF,EAAhE,EACI,CACIG,OAAO,CAAE,CAELC,aAAa,CAAEH,OAAO,CAACI,GAAR,CAAY,OAAZ,CAFV,CADb,CADJ,EAQKC,IARL,CAQU,SAAAC,QAAQ,CAAI,CAEdX,KAAK,CAACS,GAAN,CAAU,kDAAV,CACI,CACIF,OAAO,CAAE,CAELC,aAAa,CAAEH,OAAO,CAACI,GAAR,CAAY,OAAZ,CAFV,CADb,CADJ,EAQKC,IARL,CAQU,SAAAC,QAAQ,CAAI,CAEdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,GAAMA,CAAAA,IAAI,CAAGH,QAAQ,CAACG,IAAtB,CAEA,MAAKC,KAAL,CAAWC,UAAX,CAAsBF,IAAtB,EACH,CAdL,EAgBA,MAAKC,KAAL,CAAWE,MAAX,GAEA,MAAKF,KAAL,CAAWG,eAAX,GAGH,CA/BL,EAiCH,C,8EAEQ,iBAEL,mBACI,qDACI,oBAAC,MAAD,EACI,IAAI,CAAE,KAAKH,KAAL,CAAWI,KADrB,CAEI,OAAO,CAAE,KAAKJ,KAAL,CAAWE,MAFxB,eAII,oBAAC,YAAD,EAAc,WAAW,KAAzB,iBAJJ,cAKI,oBAAC,UAAD,qCALJ,cAQI,oBAAC,YAAD,mBAEI,oBAAC,OAAD,EACI,KAAK,CAAC,WADV,CAEI,OAAO,CAAE,KAAKF,KAAL,CAAWE,MAFxB,WAFJ,CAKsB,GALtB,cAMI,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACd,eAAL,CAAqB,MAAI,CAACY,KAAL,CAAWK,YAAhC,CAAN,EAAlB,CACS,KAAK,CAAC,QADf,WANJ,CARJ,CADJ,CADJ,CAsBH,C,yBAjEqB1B,KAAK,CAAC2B,S,EAoEhC,cAAenB,CAAAA,WAAf","sourcesContent":["import React from 'react'\nimport {CButton, CModal, CModalBody, CModalFooter, CModalHeader} from \"@coreui/react\";\nimport * as axios from \"axios\";\nimport Cookies from \"universal-cookie\";\n\nclass DeleteModal extends React.Component {\n\n    handleDeleteBtn = (id) => {\n\n        const cookies = new Cookies();\n\n        axios.delete(`https://frozen-refuge-74833.herokuapp.com/polls/${id}`,\n            {\n                headers: {\n\n                    Authorization: cookies.get('token')\n                }\n            }\n        )\n            .then(response => {\n\n                axios.get('https://frozen-refuge-74833.herokuapp.com/polls/',\n                    {\n                        headers: {\n\n                            Authorization: cookies.get('token')\n                        }\n                    }\n                )\n                    .then(response => {\n\n                        console.log(response.data)\n                        const data = response.data\n\n                        this.props.updatePoll(data)\n                    })\n\n                this.props.toggle()\n\n                this.props.showDeleteAlert()\n\n\n            })\n\n    }\n\n    render() {\n\n        return (\n            <>\n                <CModal\n                    show={this.props.modal}\n                    onClose={this.props.toggle}\n                >\n                    <CModalHeader closeButton>Delete Polls</CModalHeader>\n                    <CModalBody>\n                        Are you sure want to delete?\n                    </CModalBody>\n                    <CModalFooter>\n\n                        <CButton\n                            color=\"secondary\"\n                            onClick={this.props.toggle}\n                        >Cancel</CButton>{' '}\n                        <CButton onClick={() => this.handleDeleteBtn(this.props.selectedItem)}\n                                 color=\"danger\">Delete</CButton>\n                    </CModalFooter>\n                </CModal>\n            </>\n        )\n    }\n}\n\nexport default DeleteModal\n"]},"metadata":{},"sourceType":"module"}