{"ast":null,"code":"import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{CCard,CCardBody,CCol,CNav,CNavItem,CNavLink,CRow,CTabContent,CTabPane,CTabs}from'@coreui/react';import PollForm from\"./PollForm\";import PollTable from\"./PollTable\";import*as axios from\"axios\";import SuccessAlert from\"../../ui/alerts/SuccessAlert\";import DeleteAlert from\"../../ui/alerts/DeleteAlert\";import Cookies from\"universal-cookie\";import{BASE_URL}from\"../../api/Api\";var Polls=/*#__PURE__*/function(_React$Component){_inherits(Polls,_React$Component);var _super=_createSuper(Polls);function Polls(props){var _this;_classCallCheck(this,Polls);_this=_super.call(this,props);_this.updatePoll=function(pollList){_this.setState({pollList:pollList});};_this.showAlert=function(){_this.setState({showSuccessAlert:true});};_this.showDeleteAlert=function(){_this.setState({showSuccessAlert:false,showDeleteAlert:true});};_this.showErrorAlert=function(errorMessage){_this.setState({errorMessage:{showErrorAlert:true,message:errorMessage}});};_this.addTabController=function(){_this.setState({modal:{addNavLink:true,addTab:true,manageNavLink:false,manageTab:false},showSuccessAlert:false,showDeleteAlert:false});};_this.manageTabController=function(){_this.setState({modal:{addNavLink:false,addTab:false,manageNavLink:true,manageTab:true}});};_this.state={pollList:[],deleteModal:false,showSuccessAlert:false,showDeleteAlert:false,errorMessage:{showErrorAlert:false,message:''},modal:{addNavLink:true,manageNavLink:false,addTab:true,manageTab:false}};return _this;}_createClass(Polls,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var cookies=new Cookies();axios.get(BASE_URL+'/polls/',{headers:{Authorization:cookies.get('token')}}).then(function(response){console.log(response.data);var data=response.data;_this2.setState({pollList:data});console.log(\"o/p\"+_this2.state.pollList);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.errorMessage.showErrorAlert===true?/*#__PURE__*/React.createElement(DeleteAlert,{message:this.state.errorMessage.showErrorAlert.errorMessage}):null,this.state.showSuccessAlert===true?/*#__PURE__*/React.createElement(SuccessAlert,{message:\"Polls is added Successfully...\"}):null,this.state.showDeleteAlert===true?/*#__PURE__*/React.createElement(DeleteAlert,{message:\"Polls is deleted...\"}):null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,{xs:\"12\",md:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(CCard,null,/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(CTabs,null,/*#__PURE__*/React.createElement(CNav,{variant:\"tabs\"},/*#__PURE__*/React.createElement(CNavItem,{onClick:this.addTabController},/*#__PURE__*/React.createElement(CNavLink,{active:this.state.modal.addNavLink},\"Add Polls\")),/*#__PURE__*/React.createElement(CNavItem,{onClick:this.manageTabController},/*#__PURE__*/React.createElement(CNavLink,{active:this.state.modal.manageNavLink},\"Manage\"))),/*#__PURE__*/React.createElement(CTabContent,null,/*#__PURE__*/React.createElement(CTabPane,{active:this.state.modal.addTab},/*#__PURE__*/React.createElement(PollForm,{showErrorAlert:this.showErrorAlert,showAlert:this.showAlert,manageTabController:this.manageTabController,updatePoll:this.updatePoll})),/*#__PURE__*/React.createElement(CTabPane,{active:this.state.modal.manageTab},/*#__PURE__*/React.createElement(PollTable,{showDeleteAlert:this.showDeleteAlert,updatePoll:this.updatePoll,pollList:this.state.pollList})))))))));}}]);return Polls;}(React.Component);export default Polls;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/polls/Polls.js"],"names":["React","CCard","CCardBody","CCol","CNav","CNavItem","CNavLink","CRow","CTabContent","CTabPane","CTabs","PollForm","PollTable","axios","SuccessAlert","DeleteAlert","Cookies","BASE_URL","Polls","props","updatePoll","pollList","setState","showAlert","showSuccessAlert","showDeleteAlert","showErrorAlert","errorMessage","message","addTabController","modal","addNavLink","addTab","manageNavLink","manageTab","manageTabController","state","deleteModal","cookies","get","headers","Authorization","then","response","console","log","data","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {CCard, CCardBody, CCol, CNav, CNavItem, CNavLink, CRow, CTabContent, CTabPane, CTabs,} from '@coreui/react'\nimport PollForm from \"./PollForm\";\nimport PollTable from \"./PollTable\";\nimport * as axios from \"axios\";\nimport SuccessAlert from \"../../ui/alerts/SuccessAlert\";\nimport DeleteAlert from \"../../ui/alerts/DeleteAlert\";\nimport Cookies from \"universal-cookie\";\nimport {BASE_URL} from \"../../api/Api\";\n\nclass Polls extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            pollList: [],\n            deleteModal: false,\n            showSuccessAlert: false,\n            showDeleteAlert: false,\n            errorMessage: {\n                showErrorAlert: false,\n                message: ''\n            },\n            modal: {\n                addNavLink: true,\n                manageNavLink: false,\n                addTab: true,\n                manageTab: false\n            }\n\n\n        }\n\n\n    }\n\n    componentDidMount() {\n\n        const cookies = new Cookies();\n\n        axios.get(BASE_URL+'/polls/',\n            {\n                headers: {\n\n                    Authorization: cookies.get('token')\n                }\n            }\n        )\n            .then(response => {\n\n                console.log(response.data)\n                const data = response.data\n                this.setState({\n                    pollList: data\n                })\n\n                console.log(\"o/p\" + this.state.pollList)\n            })\n    }\n\n    updatePoll = (pollList) => {\n\n        this.setState({\n            pollList: pollList\n        })\n\n\n    }\n\n    showAlert = () => {\n        this.setState({\n            showSuccessAlert: true\n        })\n\n    }\n\n    showDeleteAlert = () => {\n        this.setState({\n            showSuccessAlert: false,\n            showDeleteAlert: true\n        })\n\n    }\n\n    showErrorAlert = (errorMessage) => {\n        this.setState({\n            errorMessage: {\n                showErrorAlert: true,\n                message: errorMessage\n            }\n        })\n\n    }\n\n    addTabController = () => {\n        this.setState({\n            modal: {\n                addNavLink: true,\n                addTab: true,\n                manageNavLink: false,\n                manageTab: false,\n            },\n            showSuccessAlert: false,\n            showDeleteAlert: false\n        })\n    }\n\n    manageTabController = () => {\n        this.setState({\n            modal: {\n                addNavLink: false,\n                addTab: false,\n                manageNavLink: true,\n                manageTab: true\n            }\n        })\n    }\n\n\n    render() {\n        return (\n\n            <React.Fragment>\n                {this.state.errorMessage.showErrorAlert === true ?\n                    <DeleteAlert\n                        message={this.state.errorMessage.showErrorAlert.errorMessage}/>\n                    : null}\n\n                {this.state.showSuccessAlert === true ?\n                    <SuccessAlert\n                        message={\"Polls is added Successfully...\"}/>\n                    : null}\n\n                {this.state.showDeleteAlert === true ?\n                    <DeleteAlert\n                        message={\"Polls is deleted...\"}/>\n                    : null}\n\n                <CRow>\n                    <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\n                        <CCard>\n                            <CCardBody>\n                                <CTabs>\n                                    <CNav variant=\"tabs\">\n                                        <CNavItem onClick={this.addTabController}>\n                                            <CNavLink active={this.state.modal.addNavLink}>\n                                                Add Polls\n                                            </CNavLink>\n                                        </CNavItem>\n                                        <CNavItem onClick={this.manageTabController}>\n                                            <CNavLink active={this.state.modal.manageNavLink}>\n                                                Manage\n                                            </CNavLink>\n                                        </CNavItem>\n                                    </CNav>\n\n                                    <CTabContent>\n\n                                        <CTabPane active={this.state.modal.addTab}>\n                                            <PollForm\n                                                showErrorAlert={this.showErrorAlert}\n                                                showAlert={this.showAlert}\n                                                manageTabController={this.manageTabController}\n                                                updatePoll={this.updatePoll}/>\n                                        </CTabPane>\n\n                                        <CTabPane active={this.state.modal.manageTab}>\n                                            <PollTable\n                                                showDeleteAlert={this.showDeleteAlert}\n                                                updatePoll={this.updatePoll}\n                                                pollList={this.state.pollList}/>\n                                        </CTabPane>\n\n                                    </CTabContent>\n                                </CTabs>\n                            </CCardBody>\n                        </CCard>\n                    </CCol>\n                </CRow>\n\n            </React.Fragment>\n        )\n    }\n\n\n}\n\nexport default Polls\n"]},"metadata":{},"sourceType":"module"}