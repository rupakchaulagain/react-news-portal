{"ast":null,"code":"import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{CCard,CCardBody,CCol,CNav,CNavItem,CNavLink,CRow,CTabContent,CTabPane,CTabs}from'@coreui/react';import NewsForm from\"./NewsForm\";import NewsTable from\"./NewsTable\";import*as axios from\"axios\";import DeleteModal from\"./modals/DeleteModal\";import SuccessAlert from\"../../ui/alerts/SuccessAlert\";import DeleteAlert from\"../../ui/alerts/DeleteAlert\";import Cookies from\"universal-cookie\";var News=/*#__PURE__*/function(_React$Component){_inherits(News,_React$Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.updateNews=function(newsList){_this.setState({newsList:newsList});};_this.editProduct=function(){};_this.deleteNews=function(id){_this.setState({deleteModal:true});return/*#__PURE__*/React.createElement(DeleteModal,{deleteModal:_this.props.deleteModal});};_this.showAlert=function(){_this.setState({showSuccessAlert:true});};_this.showDeleteAlert=function(){_this.setState({showSuccessAlert:false,showDeleteAlert:true});};_this.showErrorAlert=function(errorMessage){_this.setState({errorMessage:{showErrorAlert:true,message:errorMessage}});};_this.addTabController=function(){_this.setState({modal:{addNavLink:true,addTab:true,manageNavLink:false,manageTab:false}});};_this.manageTabController=function(){var cookies=new Cookies();axios.get('https://frozen-refuge-74833.herokuapp.com/posts/',{headers:{Authorization:cookies.get('token')}}).then(function(response){console.log(response.data);var data=response.data;_this.setState({newsList:data,modal:{addNavLink:false,addTab:false,manageNavLink:true,manageTab:true}});});};_this.state={newsList:[],deleteModal:false,showSuccessAlert:false,showDeleteAlert:false,errorMessage:{showErrorAlert:false,message:''},modal:{addNavLink:true,manageNavLink:false,addTab:true,manageTab:false}};return _this;}_createClass(News,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.errorMessage.showErrorAlert===true?/*#__PURE__*/React.createElement(DeleteAlert,{message:this.state.errorMessage.showErrorAlert.errorMessage}):null,this.state.showSuccessAlert===true?/*#__PURE__*/React.createElement(SuccessAlert,{message:\"News is added Successfully...\"}):null,this.state.showDeleteAlert===true?/*#__PURE__*/React.createElement(DeleteAlert,{message:\"News is deleted...\"}):null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,{xs:\"12\",md:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(CCard,null,/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(CTabs,null,/*#__PURE__*/React.createElement(CNav,{variant:\"tabs\"},/*#__PURE__*/React.createElement(CNavItem,{onClick:this.addTabController},/*#__PURE__*/React.createElement(CNavLink,{active:this.state.modal.addNavLink},\"Add News\")),/*#__PURE__*/React.createElement(CNavItem,{onClick:this.manageTabController},/*#__PURE__*/React.createElement(CNavLink,{active:this.state.modal.manageNavLink},\"Manage\"))),/*#__PURE__*/React.createElement(CTabContent,null,/*#__PURE__*/React.createElement(CTabPane,{active:this.state.modal.addTab},/*#__PURE__*/React.createElement(NewsForm,{showErrorAlert:this.showErrorAlert,showAlert:this.showAlert,manageTabController:this.manageTabController,updateNews:this.updateNews})),/*#__PURE__*/React.createElement(CTabPane,{active:this.state.modal.manageTab},/*#__PURE__*/React.createElement(NewsTable,{showDeleteAlert:this.showDeleteAlert,updateNews:this.updateNews,deleteSupplier:this.deleteSupplier,editProduct:this.editProduct,newsList:this.state.newsList})))))))));}}]);return News;}(React.Component);export default News;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/news/News.js"],"names":["React","CCard","CCardBody","CCol","CNav","CNavItem","CNavLink","CRow","CTabContent","CTabPane","CTabs","NewsForm","NewsTable","axios","DeleteModal","SuccessAlert","DeleteAlert","Cookies","News","props","updateNews","newsList","setState","editProduct","deleteNews","id","deleteModal","showAlert","showSuccessAlert","showDeleteAlert","showErrorAlert","errorMessage","message","addTabController","modal","addNavLink","addTab","manageNavLink","manageTab","manageTabController","cookies","get","headers","Authorization","then","response","console","log","data","state","deleteSupplier","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {CCard, CCardBody, CCol, CNav, CNavItem, CNavLink, CRow, CTabContent, CTabPane, CTabs,} from '@coreui/react'\nimport NewsForm from \"./NewsForm\";\nimport NewsTable from \"./NewsTable\";\nimport * as axios from \"axios\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport SuccessAlert from \"../../ui/alerts/SuccessAlert\";\nimport DeleteAlert from \"../../ui/alerts/DeleteAlert\";\nimport Cookies from \"universal-cookie\";\n\nclass News extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            newsList: [],\n            deleteModal: false,\n            showSuccessAlert: false,\n            showDeleteAlert: false,\n            errorMessage: {\n                showErrorAlert: false,\n                message: ''\n            },\n            modal: {\n                addNavLink: true,\n                manageNavLink: false,\n                addTab: true,\n                manageTab: false\n            }\n\n\n        }\n\n\n    }\n\n    updateNews = (newsList) => {\n\n        this.setState({\n            newsList: newsList\n        })\n\n\n    }\n\n    editProduct = () => {\n    }\n\n    deleteNews = (id) => {\n\n        this.setState({\n                deleteModal: true\n            }\n        )\n\n\n        return (\n\n            <DeleteModal deleteModal={this.props.deleteModal}/>\n        )\n    }\n\n    showAlert = () => {\n        this.setState({\n            showSuccessAlert: true\n        })\n\n    }\n\n    showDeleteAlert = () => {\n        this.setState({\n            showSuccessAlert: false,\n            showDeleteAlert: true\n        })\n\n    }\n\n    showErrorAlert = (errorMessage) => {\n        this.setState({\n            errorMessage: {\n                showErrorAlert: true,\n                message: errorMessage\n            }\n        })\n\n    }\n\n    addTabController = () => {\n        this.setState({\n            modal: {\n                addNavLink: true,\n                addTab: true,\n                manageNavLink: false,\n                manageTab: false\n            }\n        })\n    }\n\n    manageTabController = () => {\n\n        const cookies = new Cookies();\n\n        axios.get('https://frozen-refuge-74833.herokuapp.com/posts/',\n            {\n                headers: {\n\n                    Authorization: cookies.get('token')\n                }\n            }\n        )\n            .then(response => {\n\n                console.log(response.data)\n                const data = response.data\n\n                this.setState({\n                    newsList: data,\n                    modal: {\n                        addNavLink: false,\n                        addTab: false,\n                        manageNavLink: true,\n                        manageTab: true\n                    }\n                })\n\n            })\n    }\n\n\n    render() {\n        return (\n\n            <React.Fragment>\n                {this.state.errorMessage.showErrorAlert === true ?\n                    <DeleteAlert\n                        message={this.state.errorMessage.showErrorAlert.errorMessage}/>\n                    : null}\n\n                {this.state.showSuccessAlert === true ?\n                    <SuccessAlert\n                        message={\"News is added Successfully...\"}/>\n                    : null}\n\n                {this.state.showDeleteAlert === true ?\n                    <DeleteAlert\n                        message={\"News is deleted...\"}/>\n                    : null}\n\n                <CRow>\n                    <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\n                        <CCard>\n                            <CCardBody>\n                                <CTabs>\n                                    <CNav variant=\"tabs\">\n                                        <CNavItem onClick={this.addTabController}>\n                                            <CNavLink active={this.state.modal.addNavLink}>\n                                                Add News\n                                            </CNavLink>\n                                        </CNavItem>\n                                        <CNavItem onClick={this.manageTabController}>\n                                            <CNavLink active={this.state.modal.manageNavLink}>\n                                                Manage\n                                            </CNavLink>\n                                        </CNavItem>\n                                    </CNav>\n\n                                    <CTabContent>\n\n                                        <CTabPane active={this.state.modal.addTab}>\n                                            <NewsForm\n                                                showErrorAlert={this.showErrorAlert}\n                                                showAlert={this.showAlert}\n                                                manageTabController={this.manageTabController}\n                                                updateNews={this.updateNews}/>\n                                        </CTabPane>\n\n                                        <CTabPane active={this.state.modal.manageTab}>\n                                            <NewsTable\n                                                showDeleteAlert={this.showDeleteAlert}\n                                                updateNews={this.updateNews}\n                                                deleteSupplier={this.deleteSupplier}\n                                                editProduct={this.editProduct}\n                                                newsList={this.state.newsList}/>\n                                        </CTabPane>\n\n                                    </CTabContent>\n                                </CTabs>\n                            </CCardBody>\n                        </CCard>\n                    </CCol>\n                </CRow>\n\n            </React.Fragment>\n        )\n    }\n\n\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}