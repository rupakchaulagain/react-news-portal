{"ast":null,"code":"import _defineProperty from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{CButton,CForm,CFormGroup,CInput,CLabel,CModal,CModalBody,CModalHeader,CTextarea}from\"@coreui/react\";import*as axios from\"axios\";import Cookies from\"universal-cookie\";import CIcon from\"@coreui/icons-react\";import{BASE_URL}from\"../../../api/Api\";var EditModal=/*#__PURE__*/function(_React$Component){_inherits(EditModal,_React$Component);var _super=_createSuper(EditModal);function EditModal(props){var _this;_classCallCheck(this,EditModal);_this=_super.call(this,props);_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(e){e.preventDefault();var cookies=new Cookies();var news={posttitle:_this.state.posttitle,postcategory:_this.state.postcategory,postdetails:_this.state.postdetails,postconclusion:_this.state.postconclusion};axios.put(BASE_URL+\"/posts/\".concat(_this.state._id),news,{headers:{Authorization:cookies.get('token')}}).then(function(response){axios.get('https://frozen-refuge-74833.herokuapp.com/posts/',{headers:{Authorization:cookies.get('token')}}).then(function(response){console.log(response.data);var data=response.data;_this.props.updateNews(data);console.log(\"o/p\"+_this.state.newsList);});_this.props.editModalToggle();}).catch(function(error){if(error.response){// Request made and server responded\nconsole.log(error.response);}// throw new Error('Sorry Internal Server Error')\nthis.showError(error.response);});};_this.state={news:{},_id:_this.props.editItem,posttitle:\"\",postcategory:\"\",postdetails:\"\",postconclusion:\"\"};return _this;}_createClass(EditModal,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var cookies=new Cookies();axios.get(\"https://frozen-refuge-74833.herokuapp.com/posts/\".concat(this.props.editItem),{headers:{Authorization:cookies.get('token')}}).then(function(response){var news=response.data;_this2.setState({posttitle:news.posttitle,postcategory:news.postcategory,postdetails:news.postdetails,postconclusion:news.postconclusion});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CModal,{size:'xl',show:this.props.editModal,onClose:this.props.editModalToggle},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},\"News Detail\"),/*#__PURE__*/React.createElement(CModalBody,null,/*#__PURE__*/React.createElement(CForm,{onSubmit:this.handleFormSubmit},/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"posttitle\"},\"Post tittle\"),/*#__PURE__*/React.createElement(CInput,{name:\"posttitle\",id:\"posttitle\",value:this.state.posttitle,onChange:this.handleInputChange,placeholder:\"Enter Post Tittle\",required:\"required\"})),/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"postcategory\"},\"Post Category\"),/*#__PURE__*/React.createElement(CInput,{name:\"postcategory\",id:\"postcategory\",value:this.state.postcategory,onChange:this.handleInputChange,placeholder:\"Enter Post Category\",required:\"required\"})),/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"postdetails\"},\"Post Details\"),/*#__PURE__*/React.createElement(CInput,{id:\"postdetails\",name:\"postdetails\",value:this.state.postdetails,onChange:this.handleInputChange,placeholder:\"Enter Post Details\"})),/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"postconclusion\"},\"Post Conclusion\"),/*#__PURE__*/React.createElement(CTextarea,{name:\"postconclusion\",id:\"postconclusion\",value:this.state.postconclusion,onChange:this.handleInputChange,placeholder:\"Enter Post Conclusion\",required:\"required\"})),/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CButton,{type:\"submit\",size:\"sm\",color:\"primary\"},/*#__PURE__*/React.createElement(CIcon,{name:\"cil-scrubber\"}),\" Submit\"),/*#__PURE__*/React.createElement(CButton,{type:\"reset\",size:\"sm\",color:\"danger\"},/*#__PURE__*/React.createElement(CIcon,{name:\"cil-ban\"}),\" Reset\"))))));}}]);return EditModal;}(React.Component);export default EditModal;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/news/modals/EditModal.js"],"names":["React","CButton","CForm","CFormGroup","CInput","CLabel","CModal","CModalBody","CModalHeader","CTextarea","axios","Cookies","CIcon","BASE_URL","EditModal","props","handleInputChange","e","target","name","value","setState","handleFormSubmit","preventDefault","cookies","news","posttitle","state","postcategory","postdetails","postconclusion","put","_id","headers","Authorization","get","then","response","console","log","data","updateNews","newsList","editModalToggle","catch","error","showError","editItem","editModal","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {CButton, CForm, CFormGroup, CInput, CLabel, CModal, CModalBody, CModalHeader, CTextarea} from \"@coreui/react\";\nimport * as axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport CIcon from \"@coreui/icons-react\";\nimport {BASE_URL} from \"../../../api/Api\";\n\nclass EditModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            news: {},\n            _id: this.props.editItem,\n            posttitle: \"\",\n            postcategory: \"\",\n            postdetails: \"\",\n            postconclusion: \"\"\n        }\n    }\n\n    handleInputChange = (e) => {\n\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n\n    }\n\n    handleFormSubmit = (e) => {\n        e.preventDefault()\n\n        const cookies = new Cookies();\n\n\n        let news = {\n            posttitle: this.state.posttitle,\n            postcategory: this.state.postcategory,\n            postdetails: this.state.postdetails,\n            postconclusion: this.state.postconclusion,\n        }\n\n        axios.put(BASE_URL+`/posts/${this.state._id}`, news,\n            {\n                headers: {\n                    Authorization: cookies.get('token'),\n                },\n            })\n            .then(response => {\n\n                axios.get('https://frozen-refuge-74833.herokuapp.com/posts/',\n                    {\n                        headers: {\n\n                            Authorization: cookies.get('token')\n                        }\n                    }\n                )\n                    .then(response => {\n\n                        console.log(response.data)\n                        const data = response.data\n\n                        this.props.updateNews(data)\n\n                        console.log(\"o/p\" + this.state.newsList)\n                    })\n\n                this.props.editModalToggle()\n\n            })\n            .catch(function (error) {\n                if (error.response) {\n                    // Request made and server responded\n                    console.log(error.response);\n                }\n\n                // throw new Error('Sorry Internal Server Error')\n                this.showError(error.response)\n            })\n\n    }\n\n    componentDidMount() {\n        const cookies = new Cookies();\n\n        axios.get(`https://frozen-refuge-74833.herokuapp.com/posts/${this.props.editItem}`,\n            {\n                headers: {\n                    Authorization: cookies.get('token')\n                }\n            }\n        )\n            .then(response => {\n\n                let news = response.data\n                this.setState({\n                    posttitle: news.posttitle,\n                    postcategory: news.postcategory,\n                    postdetails: news.postdetails,\n                    postconclusion: news.postconclusion,\n                })\n\n            })\n\n    }\n\n    render() {\n\n        return (\n            <>\n                <CModal size={'xl'}\n                        show={this.props.editModal}\n                        onClose={this.props.editModalToggle}\n                >\n                    <CModalHeader closeButton>News Detail</CModalHeader>\n                    <CModalBody>\n\n                        <CForm onSubmit={this.handleFormSubmit}>\n                            <CFormGroup>\n\n                                <CLabel htmlFor=\"posttitle\">Post tittle</CLabel>\n                                <CInput name=\"posttitle\" id=\"posttitle\"\n                                        value={this.state.posttitle}\n                                        onChange={this.handleInputChange}\n                                        placeholder=\"Enter Post Tittle\"\n                                        required=\"required\"/>\n                            </CFormGroup>\n\n                            <CFormGroup>\n                                <CLabel htmlFor=\"postcategory\">Post Category</CLabel>\n                                <CInput name=\"postcategory\" id=\"postcategory\"\n                                        value={this.state.postcategory}\n                                        onChange={this.handleInputChange}\n                                        placeholder=\"Enter Post Category\"\n                                        required=\"required\"/>\n                            </CFormGroup>\n\n                            <CFormGroup>\n                                <CLabel htmlFor=\"postdetails\">Post Details</CLabel>\n                                <CInput id=\"postdetails\" name=\"postdetails\"\n                                        value={this.state.postdetails}\n                                        onChange={this.handleInputChange}\n                                        placeholder=\"Enter Post Details\"/>\n                            </CFormGroup>\n\n                            <CFormGroup>\n                                <CLabel htmlFor=\"postconclusion\">Post Conclusion</CLabel>\n                                <CTextarea name=\"postconclusion\" id=\"postconclusion\"\n                                           value={this.state.postconclusion}\n                                           onChange={this.handleInputChange}\n                                           placeholder=\"Enter Post Conclusion\"\n                                           required=\"required\"/>\n                            </CFormGroup>\n\n                            <CFormGroup>\n                                <CButton type=\"submit\" size=\"sm\" color=\"primary\"><CIcon\n                                    name=\"cil-scrubber\"/> Submit</CButton>\n                                <CButton type=\"reset\" size=\"sm\" color=\"danger\"><CIcon name=\"cil-ban\"/> Reset</CButton>\n                            </CFormGroup>\n\n                        </CForm>\n\n                    </CModalBody>\n                </CModal>\n            </>\n        )\n    }\n\n}\n\nexport default EditModal\n"]},"metadata":{},"sourceType":"module"}