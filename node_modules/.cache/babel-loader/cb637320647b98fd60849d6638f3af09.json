{"ast":null,"code":"import _defineProperty from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rupak/Rupak/Rupesh/jharna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{CButton,CForm,CFormGroup,CInput,CLabel,CModal,CModalBody,CModalHeader}from\"@coreui/react\";import*as axios from\"axios\";import Cookies from\"universal-cookie\";import CIcon from\"@coreui/icons-react\";import{BASE_URL}from\"../../../api/Api\";var EditModal=/*#__PURE__*/function(_React$Component){_inherits(EditModal,_React$Component);var _super=_createSuper(EditModal);function EditModal(props){var _this;_classCallCheck(this,EditModal);_this=_super.call(this,props);_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(e){e.preventDefault();var cookies=new Cookies();var polls={polltitle:_this.state.polltitle};axios.put(BASE_URL+\"/polls/\".concat(_this.state._id),polls,{headers:{Authorization:cookies.get('token')}}).then(function(response){axios.get(BASE_URL+'/polls/',{headers:{Authorization:cookies.get('token')}}).then(function(response){console.log(response.data);var data=response.data;_this.props.updatePoll(data);});_this.props.editModalToggle();}).catch(function(error){if(error.response){// Request made and server responded\nconsole.log(error.response);}// throw new Error('Sorry Internal Server Error')\nthis.showError(error.response);});};_this.state={news:{},_id:_this.props.editItem,polltitle:\"\"};return _this;}_createClass(EditModal,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var cookies=new Cookies();axios.get(BASE_URL+\"/polls/\".concat(this.props.editItem),{headers:{Authorization:cookies.get('token')}}).then(function(response){var poll=response.data;_this2.setState({polltitle:poll.polltitle});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CModal,{size:'xl',show:this.props.editModal,onClose:this.props.editModalToggle},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},\"Polls Detail\"),/*#__PURE__*/React.createElement(CModalBody,null,/*#__PURE__*/React.createElement(CForm,{onSubmit:this.handleFormSubmit},/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"posttitle\"},\"Poll tittle\"),/*#__PURE__*/React.createElement(CInput,{name:\"polltitle\",id:\"polltitle\",value:this.state.polltitle,onChange:this.handleInputChange,required:\"required\"})),/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CButton,{type:\"submit\",size:\"sm\",color:\"primary\"},/*#__PURE__*/React.createElement(CIcon,{name:\"cil-scrubber\"}),\" Submit\"))))));}}]);return EditModal;}(React.Component);export default EditModal;","map":{"version":3,"sources":["/home/rupak/Rupak/Rupesh/jharna/src/views/polls/modals/EditModal.js"],"names":["React","CButton","CForm","CFormGroup","CInput","CLabel","CModal","CModalBody","CModalHeader","axios","Cookies","CIcon","BASE_URL","EditModal","props","handleInputChange","e","target","name","value","setState","handleFormSubmit","preventDefault","cookies","polls","polltitle","state","put","_id","headers","Authorization","get","then","response","console","log","data","updatePoll","editModalToggle","catch","error","showError","news","editItem","poll","editModal","Component"],"mappings":"guBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,CAAiBC,KAAjB,CAAwBC,UAAxB,CAAoCC,MAApC,CAA4CC,MAA5C,CAAoDC,MAApD,CAA4DC,UAA5D,CAAwEC,YAAxE,KAA2F,eAA3F,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,C,GAEMC,CAAAA,S,kHACF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EADe,MAUnBC,iBAVmB,CAUC,SAACC,CAAD,CAAO,eAEDA,CAAC,CAACC,MAFD,CAEhBC,IAFgB,WAEhBA,IAFgB,CAEVC,KAFU,WAEVA,KAFU,CAGvB,MAAKC,QAAL,oBACKF,IADL,CACYC,KADZ,GAIH,CAjBkB,OAmBnBE,gBAnBmB,CAmBA,SAACL,CAAD,CAAO,CACtBA,CAAC,CAACM,cAAF,GAEA,GAAMC,CAAAA,OAAO,CAAG,GAAIb,CAAAA,OAAJ,EAAhB,CAGA,GAAIc,CAAAA,KAAK,CAAG,CACRC,SAAS,CAAE,MAAKC,KAAL,CAAWD,SADd,CAAZ,CAIAhB,KAAK,CAACkB,GAAN,CAAUf,QAAQ,kBAAW,MAAKc,KAAL,CAAWE,GAAtB,CAAlB,CAA+CJ,KAA/C,CACI,CACIK,OAAO,CAAE,CACLC,aAAa,CAAEP,OAAO,CAACQ,GAAR,CAAY,OAAZ,CADV,CADb,CADJ,EAMKC,IANL,CAMU,SAAAC,QAAQ,CAAI,CAEdxB,KAAK,CAACsB,GAAN,CAAUnB,QAAQ,CAAC,SAAnB,CACI,CACIiB,OAAO,CAAE,CAELC,aAAa,CAAEP,OAAO,CAACQ,GAAR,CAAY,OAAZ,CAFV,CADb,CADJ,EAQKC,IARL,CAQU,SAAAC,QAAQ,CAAI,CAEdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,GAAMA,CAAAA,IAAI,CAAGH,QAAQ,CAACG,IAAtB,CAEA,MAAKtB,KAAL,CAAWuB,UAAX,CAAsBD,IAAtB,EAEH,CAfL,EAiBA,MAAKtB,KAAL,CAAWwB,eAAX,GAEH,CA3BL,EA4BKC,KA5BL,CA4BW,SAAUC,KAAV,CAAiB,CACpB,GAAIA,KAAK,CAACP,QAAV,CAAoB,CAChB;AACAC,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACP,QAAlB,EACH,CAED;AACA,KAAKQ,SAAL,CAAeD,KAAK,CAACP,QAArB,EACH,CApCL,EAsCH,CAnEkB,CAGf,MAAKP,KAAL,CAAa,CACTgB,IAAI,CAAE,EADG,CAETd,GAAG,CAAE,MAAKd,KAAL,CAAW6B,QAFP,CAGTlB,SAAS,CAAE,EAHF,CAAb,CAHe,aAQlB,C,mFA6DmB,iBAChB,GAAMF,CAAAA,OAAO,CAAG,GAAIb,CAAAA,OAAJ,EAAhB,CAEAD,KAAK,CAACsB,GAAN,CAAUnB,QAAQ,kBAAW,KAAKE,KAAL,CAAW6B,QAAtB,CAAlB,CACI,CACId,OAAO,CAAE,CACLC,aAAa,CAAEP,OAAO,CAACQ,GAAR,CAAY,OAAZ,CADV,CADb,CADJ,EAOKC,IAPL,CAOU,SAAAC,QAAQ,CAAI,CAEd,GAAIW,CAAAA,IAAI,CAAGX,QAAQ,CAACG,IAApB,CACA,MAAI,CAAChB,QAAL,CAAc,CACVK,SAAS,CAAEmB,IAAI,CAACnB,SADN,CAAd,EAIH,CAdL,EAgBH,C,uCAEQ,CAEL,mBACI,qDACI,oBAAC,MAAD,EAAQ,IAAI,CAAE,IAAd,CACQ,IAAI,CAAE,KAAKX,KAAL,CAAW+B,SADzB,CAEQ,OAAO,CAAE,KAAK/B,KAAL,CAAWwB,eAF5B,eAII,oBAAC,YAAD,EAAc,WAAW,KAAzB,iBAJJ,cAKI,oBAAC,UAAD,mBAEI,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAKjB,gBAAtB,eACI,oBAAC,UAAD,mBAEI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,gBAFJ,cAGI,oBAAC,MAAD,EAAQ,IAAI,CAAC,WAAb,CAAyB,EAAE,CAAC,WAA5B,CACQ,KAAK,CAAE,KAAKK,KAAL,CAAWD,SAD1B,CAEQ,QAAQ,CAAE,KAAKV,iBAFvB,CAGQ,QAAQ,CAAC,UAHjB,EAHJ,CADJ,cAWI,oBAAC,UAAD,mBACI,oBAAC,OAAD,EAAS,IAAI,CAAC,QAAd,CAAuB,IAAI,CAAC,IAA5B,CAAiC,KAAK,CAAC,SAAvC,eAAiD,oBAAC,KAAD,EAC7C,IAAI,CAAC,cADwC,EAAjD,WADJ,CAXJ,CAFJ,CALJ,CADJ,CADJ,CA+BH,C,uBA5HmBf,KAAK,CAAC8C,S,EAgI9B,cAAejC,CAAAA,SAAf","sourcesContent":["import React from 'react'\nimport {CButton, CForm, CFormGroup, CInput, CLabel, CModal, CModalBody, CModalHeader} from \"@coreui/react\";\nimport * as axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport CIcon from \"@coreui/icons-react\";\nimport {BASE_URL} from \"../../../api/Api\";\n\nclass EditModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            news: {},\n            _id: this.props.editItem,\n            polltitle: \"\",\n        }\n    }\n\n    handleInputChange = (e) => {\n\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n\n    }\n\n    handleFormSubmit = (e) => {\n        e.preventDefault()\n\n        const cookies = new Cookies();\n\n\n        let polls = {\n            polltitle: this.state.polltitle,\n        }\n        \n        axios.put(BASE_URL+`/polls/${this.state._id}`, polls,\n            {\n                headers: {\n                    Authorization: cookies.get('token'),\n                },\n            })\n            .then(response => {\n\n                axios.get(BASE_URL+'/polls/',\n                    {\n                        headers: {\n\n                            Authorization: cookies.get('token')\n                        }\n                    }\n                )\n                    .then(response => {\n\n                        console.log(response.data)\n                        const data = response.data\n\n                        this.props.updatePoll(data)\n\n                    })\n\n                this.props.editModalToggle()\n\n            })\n            .catch(function (error) {\n                if (error.response) {\n                    // Request made and server responded\n                    console.log(error.response);\n                }\n\n                // throw new Error('Sorry Internal Server Error')\n                this.showError(error.response)\n            })\n\n    }\n\n    componentDidMount() {\n        const cookies = new Cookies();\n\n        axios.get(BASE_URL+`/polls/${this.props.editItem}`,\n            {\n                headers: {\n                    Authorization: cookies.get('token')\n                }\n            }\n        )\n            .then(response => {\n\n                let poll = response.data\n                this.setState({\n                    polltitle: poll.polltitle\n                })\n\n            })\n\n    }\n\n    render() {\n\n        return (\n            <>\n                <CModal size={'xl'}\n                        show={this.props.editModal}\n                        onClose={this.props.editModalToggle}\n                >\n                    <CModalHeader closeButton>Polls Detail</CModalHeader>\n                    <CModalBody>\n\n                        <CForm onSubmit={this.handleFormSubmit}>\n                            <CFormGroup>\n\n                                <CLabel htmlFor=\"posttitle\">Poll tittle</CLabel>\n                                <CInput name=\"polltitle\" id=\"polltitle\"\n                                        value={this.state.polltitle}\n                                        onChange={this.handleInputChange}\n                                        required=\"required\"/>\n                            </CFormGroup>\n\n\n                            <CFormGroup>\n                                <CButton type=\"submit\" size=\"sm\" color=\"primary\"><CIcon\n                                    name=\"cil-scrubber\"/> Submit</CButton>\n                            </CFormGroup>\n\n                        </CForm>\n\n                    </CModalBody>\n                </CModal>\n            </>\n        )\n    }\n\n}\n\nexport default EditModal\n"]},"metadata":{},"sourceType":"module"}